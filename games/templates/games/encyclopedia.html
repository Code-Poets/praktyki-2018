{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load i18n %}
  <link rel="stylesheet" type="text/css" href="{% static 'games/modal_image.css' %}" />
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<h1>{% trans 'Encyclopedia' %}</h1>
<hr>

<table align="center" width="30%">
    <tr><td align="center"><h4><b>{% trans 'Races' %}</b></h4></td></tr>
    {% for charakterRace in list_race %}
    <tr>
        <td align="center">
            <script type="text/javascript">
                $(function () {
                    $("#{{charakterRace.name}}").dialog ({
                        modal: false,
                        title: "{{charakterRace.name}}",
                        autoOpen: false,
                        buttons : {
                            "Ok" : function ()
                            {
                                $(this).dialog('close');
                            }
                        }
                    });

                    $("#dRace{{charakterRace.pk}}").click(function () {
                        $('#{{charakterRace.name}}').dialog('open');
                    });
                });
            </script>
            <input type="button" id=dRace{{charakterRace.pk}} class="race_button" value={{charakterRace.name}} />
            <div id={{charakterRace.name}} style="display: none" align="center">
            {% trans 'Description' %}: {{charakterRace.description }}
            </div>
        </td>
    </tr>
    {% endfor %}
</table>
<br/>
<table align="center" width="30%">
    <tr><td align="center"><h4><b>{% trans 'Classes' %}</b></h4></td></tr>
    {% for charakterClass in list_class %}
    <tr>
        <td align="center">
            <script type="text/javascript">
                $(function () {
                    $("#{{charakterClass.name}}").dialog ({
                        modal: false,
                        title: "{{charakterClass.name}}",
                        autoOpen: false,
                        buttons : {
                            "Ok" : function ()
                            {
                                $(this).dialog('close');
                            }
                        }
                    });

                    $("#dClass{{charakterClass.pk}}").click(function () {
                        $('#{{charakterClass.name}}').dialog('open');
                    });
                });
            </script>
            <input type="button" id=dClass{{charakterClass.pk}} class="class_button" value={{charakterClass.name}} />
            <div id={{charakterClass.name}} style="display: none" align="center">
            {% trans 'Description' %}: {{charakterClass.description }}
            </div>
        </td>
    </tr>
    {% endfor %}
</table>

<br />
<hr>
<h4><b>{% trans 'Instruction' %}</b></h4>
<img id="myImg" src="{% static 'games/images/Instrukcja.jpg' %}" alt="{% trans 'How to play' %}?" style="width:100%;max-width:300px;cursor:pointer;">

<!-- The Modal -->
<div id="myModal" class="modal">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01">
  <div id="caption"></div>
</div>

<script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the image and insert it inside the modal - use its "alt" text as a caption
var img = document.getElementById('myImg');
var modalImg = document.getElementById("img01");
var captionText = document.getElementById("caption");
img.onclick = function(){
    modal.style.display = "block";
    modalImg.src = this.src;
    captionText.innerHTML = this.alt;
}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
</script>

<hr>
<input action="action" onclick="window.history.go(-1); return false;" type="button" class="back_button" value="{% trans 'Back' %}" />
<p></p>

{% endblock %}
